import r from"minimist";import e from"debug";import t from"path";import s from"fs";import"crypto";const o=e("@foo-dog:utils");function n(r){return o("isSupportedFileExtension(): fileExtWithDot="+r),".pug"==r.toLowerCase()||".foo-dog"==r.toLowerCase()}function i(r){try{return s.accessSync(r),!0}catch(r){return!1}}function a(){const r=process.cwd();let e=!0;for(;e;)try{s.accessSync("package.json",s.constants.F_OK),e=!1}catch(r){process.chdir("..")}const t=process.cwd();return process.chdir(r),t}Array.prototype.peek=function(){return this[this.length-1]},String.prototype.removeFromEnd=function(r){return this.endsWith(r)?this.substring(0,this.lastIndexOf(r)):this.toString()};const c=e("@foo-dog/utils:parse_arguments"),l=!"file:///workspaces/utils/src/parse_arguments.js".endsWith("?test");var u=async function(r,e,t){null==t&&(t=null!==e&&"object"==typeof e?e:{}),t.optional;const s=t.required??[];c("options.required=",t.required),c("requiredParams=",s);const o={};let n;var i;c("processOrNot=",i=r),i[0].startsWith("/")||i.hasOwnProperty("argv")?(o.nodePath=r[0],o.program=r[1],n=r.slice(2)):n=(null==r?void 0:r.argv)||r,(n.includes("-h")||n.includes("--help"))&&(e(),l&&process.exit(0));const a={},u=[];for(let r=0;r<n.length;r++){const e=n[r];if(e.startsWith("-")){const[r,t]=e.split("=");a[r]=t??!0}else u.push(e)}u.length>0&&(o.args=u),Object.keys(a).length>0&&(o.options=a),c("requiredParams.length=",s.length);for(let r=0;r<s.length;r++){const e=s[r];if(c("required=",e),c("ret?.args=",null==o?void 0:o.args),c("requiredParams[reqIdx].aliases=",s[r].aliases),c("(new Array()).concat(element.name).concat(requiredParams[reqIdx].aliases)=",(new Array).concat(e.name).concat(s[r].aliases)),new Array(e.name).concat(s[r].aliases).forEach((r=>{c(r)})),!new Array(e.name).concat(s[r].aliases).some((r=>{var e,t,s,n;return c("!!ret?.args?.contains(requiredName)=",!!(null==o||null===(e=o.args)||void 0===e?void 0:e.contains(r))),c("ret?.options?.hasOwnProperty(requiredName)=",null==o||null===(t=o.options)||void 0===t?void 0:t.hasOwnProperty(r)),(null==o||null===(s=o.args)||void 0===s?void 0:s.contains(r))||(null==o||null===(n=o.options)||void 0===n?void 0:n.hasOwnProperty(r))?(c("don't throw"),!0):(c("throw"),!1)})))throw new Error('Required field "'+e.name+'" was not found')}return o};export{i as exists,n as isSupportedFileExtension,u as parseArguments,a as simpleProjectRootDir};
//# sourceMappingURL=index.js.map
